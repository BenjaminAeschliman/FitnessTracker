<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>FitnessTracker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <h1>FitnessTracker</h1>

    <p id="message"></p>

    <!-- LOGGED OUT VIEW -->
    <div id="loggedOutView">
        <h2>Register</h2>
        <form id="registerForm">
            <input id="registerEmail" type="email" placeholder="Email" required />
            <input id="registerPassword" type="password" placeholder="Password" required />
            <button type="submit">Register</button>
        </form>

        <h2>Login</h2>
        <form id="loginForm">
            <input id="loginEmail" type="email" placeholder="Email" required />
            <input id="loginPassword" type="password" placeholder="Password" required />
            <button type="submit">Login</button>
        </form>
    </div>

    <hr />

    <!-- LOGGED IN VIEW -->
    <div id="loggedInView" style="display:none;">
        <p>
            Logged in as: <strong id="currentUserEmail">unknown</strong>
            <button id="logoutBtn" type="button">Logout</button>
        </p>

        <!-- STATS -->
        <section class="card">
            <h2>Stats</h2>

            <div class="row">
                <input id="startDate" type="date" />
                <input id="endDate" type="date" />
                <button id="loadStatsBtn" type="button">Load Stats</button>
            </div>

            <div id="statsLoading" class="hint" style="display:none;">Loading stats…</div>
            <div id="statsError" class="error"></div>

            <div id="statsSummary" class="stats-grid" style="display:none;">
                <div class="stat"><span>Total Minutes</span><strong id="statTotal">0</strong></div>
                <div class="stat"><span>Activities</span><strong id="statCount">0</strong></div>
                <div class="stat"><span>Avg Duration</span><strong id="statAvg">0</strong></div>
            </div>

            <div id="typeBreakdown"></div>
        </section>

        <!-- ACTIVITIES -->
        <section class="card">
            <h2>Activities</h2>

            <button id="loadActivitiesBtn" type="button">Load Activities</button>
            <div id="activitiesLoading" class="hint" style="display:none;">Loading…</div>

            <table id="activitiesTable" style="display:none;">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Type</th>
                        <th>Minutes</th>
                    </tr>
                </thead>
                <tbody id="activitiesBody"></tbody>
            </table>
        </section>

        <!-- ADD -->
        <section class="card">
            <h3>Add Activity</h3>
            <form id="activityForm">
                <input id="activityType" placeholder="Type (Run / Walk / Lift)" required />
                <input id="activityMinutes" type="number" placeholder="Minutes" required />
                <input id="activityDate" type="date" required />
                <button type="submit">Add Activity</button>
            </form>

            <pre id="activityResult"></pre>
        </section>
    </div>

    <script src="app.js"></script>
</body>
</html>
